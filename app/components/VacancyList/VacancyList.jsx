'use client'

import { useEffect, useState } from 'react';

import styles from './style.module.scss';
import { Button, Popup } from '@/app/components';


export default function VacancyList({ list }) {
    const [popupActive, setPopupActive] = useState(false);

    const handleClick = () => {
        setPopupActive(true);
    }

    return (
        <>
            <ul className={styles.list}>
                {
                    list.map((item, index) => (
                        <li key={index} className={styles.item}>
                            <div className={styles.item_header}>
                                <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fillRule="evenodd" clipRule="evenodd" d="M15.4383 17.0446C15.6652 16.074 16.1329 15.1762 16.7983 14.434H5.64967C5.49939 14.434 5.35525 14.3743 5.24898 14.268C5.14271 14.1617 5.08301 14.0176 5.08301 13.8673C5.08301 13.717 5.14271 13.5729 5.24898 13.4666C5.35525 13.3604 5.49939 13.3007 5.64967 13.3007H17.5497C17.697 13.3007 17.8316 13.357 17.9322 13.4494C18.909 12.7964 20.058 12.4488 21.233 12.4507C21.6206 12.4507 21.9994 12.4875 22.3663 12.5583V5.08398C22.3663 2.73685 20.4635 0.833984 18.1163 0.833984H5.08301C2.73587 0.833984 0.833008 2.73685 0.833008 5.08398V21.234H2.81634C5.63296 21.234 7.91634 23.5174 7.91634 26.334V29.1673H13.3569C12.9794 28.7984 12.6796 28.3576 12.4751 27.871C12.2707 27.3844 12.1657 26.8618 12.1663 26.334V20.9507C12.1663 19.0679 13.5669 17.375 15.4383 17.0446ZM10.7497 8.48398C10.7497 8.33369 10.8094 8.18956 10.9156 8.08329C11.0219 7.97702 11.1661 7.91732 11.3163 7.91732H17.5497C17.7 7.91732 17.8441 7.97702 17.9504 8.08329C18.0566 8.18956 18.1163 8.33369 18.1163 8.48398C18.1163 8.63427 18.0566 8.77841 17.9504 8.88468C17.8441 8.99095 17.7 9.05065 17.5497 9.05065H11.3163C11.1661 9.05065 11.0219 8.99095 10.9156 8.88468C10.8094 8.77841 10.7497 8.63427 10.7497 8.48398ZM5.08301 8.48398C5.08301 8.33369 5.14271 8.18956 5.24898 8.08329C5.35525 7.97702 5.49939 7.91732 5.64967 7.91732H8.19968C8.34996 7.91732 8.4941 7.97702 8.60037 8.08329C8.70664 8.18956 8.76634 8.33369 8.76634 8.48398C8.76634 8.63427 8.70664 8.77841 8.60037 8.88468C8.4941 8.99095 8.34996 9.05065 8.19968 9.05065H5.64967C5.49939 9.05065 5.35525 8.99095 5.24898 8.88468C5.14271 8.77841 5.08301 8.63427 5.08301 8.48398ZM5.64967 18.684C5.49939 18.684 5.35525 18.7437 5.24898 18.85C5.14271 18.9562 5.08301 19.1004 5.08301 19.2507C5.08301 19.4009 5.14271 19.5451 5.24898 19.6513C5.35525 19.7576 5.49939 19.8173 5.64967 19.8173H11.3163C11.4666 19.8173 11.6108 19.7576 11.717 19.6513C11.8233 19.5451 11.883 19.4009 11.883 19.2507C11.883 19.1004 11.8233 18.9562 11.717 18.85C11.6108 18.7437 11.4666 18.684 11.3163 18.684H5.64967Z" fill="#27272A" />
                                    <path d="M29.1657 20.9505C29.1657 19.6812 28.331 18.6068 27.1804 18.2464C27.1867 18.4864 27.1824 18.7269 27.1824 18.9672C27.1824 19.5683 26.9436 20.1449 26.5185 20.57C26.0934 20.995 25.5169 21.2339 24.9157 21.2339C24.3146 21.2339 23.738 20.995 23.313 20.57C22.8879 20.1449 22.6491 19.5683 22.6491 18.9672C22.6491 18.6873 22.6768 18.3934 22.6207 18.1172H19.8441C19.788 18.3934 19.8157 18.6873 19.8157 18.9672C19.8157 19.5683 19.5769 20.1449 19.1518 20.57C18.7268 20.995 18.1502 21.2339 17.5491 21.2339C16.9479 21.2339 16.3714 20.995 15.9463 20.57C15.5212 20.1449 15.2824 19.5683 15.2824 18.9672C15.2824 18.7269 15.2782 18.4864 15.2844 18.2464C14.1341 18.6068 13.2991 19.6812 13.2991 20.9505V21.5209C13.2991 21.6328 13.3322 21.7423 13.3943 21.8354C13.4564 21.9286 13.5448 22.0012 13.6481 22.0442L19.5996 24.5211C20.117 24.7364 20.6719 24.8473 21.2324 24.8473C21.7929 24.8473 22.3478 24.7364 22.8653 24.5211L28.8167 22.0442C28.92 22.0012 29.0084 21.9286 29.0705 21.8354C29.1326 21.7423 29.1658 21.6328 29.1657 21.5209V20.9505Z" fill="#27272A" />
                                    <path d="M16.1323 29.1673C14.5675 29.1673 13.299 27.8988 13.299 26.334V23.1266L19.164 25.5673C19.8194 25.8401 20.5224 25.9805 21.2323 25.9805C21.9423 25.9805 22.6452 25.8401 23.3007 25.5673L29.1657 23.1266V26.334C29.1657 27.8988 27.8972 29.1673 26.3323 29.1673H16.1323ZM6.78232 29.156V26.334C6.78232 24.1432 5.00638 22.3673 2.81565 22.3673H0.8479C0.898835 22.795 1.07008 23.1995 1.34175 23.5338L5.25232 28.3329C5.63374 28.7984 6.18369 29.0942 6.78232 29.156ZM18.6823 18.9673C18.6823 19.2679 18.5629 19.5562 18.3504 19.7687C18.1378 19.9812 17.8496 20.1007 17.549 20.1007C17.2484 20.1007 16.9601 19.9812 16.7476 19.7687C16.5351 19.5562 16.4157 19.2679 16.4157 18.9673V18.4007C16.4157 15.7404 18.5721 13.584 21.2323 13.584C23.8925 13.584 26.049 15.7404 26.049 18.4007V18.9673C26.049 19.2679 25.9296 19.5562 25.717 19.7687C25.5045 19.9812 25.2162 20.1007 24.9157 20.1007C24.6151 20.1007 24.3268 19.9812 24.1143 19.7687C23.9017 19.5562 23.7823 19.2679 23.7823 18.9673V18.4007C23.7823 17.7243 23.5137 17.0757 23.0354 16.5975C22.5572 16.1193 21.9086 15.8507 21.2323 15.8507C20.556 15.8507 19.9074 16.1193 19.4292 16.5975C18.951 17.0757 18.6823 17.7243 18.6823 18.4007V18.9673Z" fill="#27272A" />
                                </svg>
                                <h3>{item.profession}</h3>
                            </div>
                            <div className='border_left_div'></div>
                            <p className={styles.item_payment}>{item.payment}</p>
                            <div
                                className={styles.item_description}
                                dangerouslySetInnerHTML={{ __html: item.descriptions }}
                            />
                            <Button
                                color='black'
                                handleClick={handleClick}
                                href="#popup"
                                size='medium'
                                text='Оставить заявку' />
                        </li>
                    ))
                }
            </ul>
            <Popup active={popupActive} setActive={setPopupActive} />
        </>
    )
}
